//>>built
define("dojo/i18n","./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(g,l,p,r,A,n,q,B,C){p.add("dojo-preload-i18n-Api",1);q=g.i18n={};var D=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,E=function(a,b,d,c){var e=[d+c];b=b.split("-");for(var h="",k=0;k<b.length;k++)if(h+=(h?"-":"")+b[k],!a||a[h])e.push(d+h+"/"+c),e.specificity=h;return e},h={},x=function(a,b,d){d=d?d.toLowerCase():g.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");
return/root/i.test(d)?a+"/nls/"+b:a+"/nls/"+d+"/"+b},F=g.getL10nName=function(a,b,d){return a=C.id+"!"+x(a,b,d)},H=function(a,b,d,c,e,l){a([b],function(k){var f=n.clone(k.root||k.ROOT),m=E(!k._v1x&&k,e,d,c);a(m,function(){for(var a=1;a<m.length;a++)f=n.mixin(n.clone(f),arguments[a]);h[b+"/"+e]=f;f.$locale=m.specificity;l()})})},I=function(a){var b=A.extraLocale||[],b=n.isArray(b)?b:[b];b.push(a);return b},w=function(a,b,d){var c=D.exec(a),e=c[1]+"/",l=c[5]||c[4],k=e+l,f=(c=c[5]&&c[4])||g.locale||
"",m=k+"/"+f,c=c?[f]:I(f),G=c.length,y=function(){--G||d(n.delegate(h[m]))},f=a.split("*"),u="preload"==f[1];if(p("dojo-preload-i18n-Api")){if(u&&(h[a]||(h[a]=1,J(f[2],B.parse(f[3]),1,b)),d(1)),(f=u)||(t&&v.push([a,b,d]),f=t&&!h[m]),f)return}else if(u){d(1);return}r.forEach(c,function(a){var c=k+"/"+a;p("dojo-preload-i18n-Api")&&z(c);h[c]?y():H(b,k,e,l,a,y)})};p("dojo-preload-i18n-Api");var K=q.normalizeLocale=function(a){a=a?a.toLowerCase():g.locale;return"root"==a?"ROOT":a},t=0,v=[],J=q._preloadLocalizations=
function(a,b,d,c){function e(a,b){c([a],b)}function q(a,b){for(var c=a.split("-");c.length;){if(b(c.join("-")))return;c.pop()}b("ROOT")}function k(){for(--t;!t&&v.length;)w.apply(null,v.shift())}function f(d){d=K(d);q(d,function(f){if(0<=r.indexOf(b,f)){var g=a.replace(/\./g,"/")+"_"+f;t++;e(g,function(a){for(var b in a){var e=a[b],g=b.match(/(.+)\/([^\/]+)$/),m;if(g&&(m=g[2],g=g[1]+"/",e._localized)){var p;if("ROOT"===f){var r=p=e._localized;delete e._localized;r.root=e;h[l.toAbsMid(b)]=r}else p=
e._localized,h[l.toAbsMid(g+m+"/"+f)]=e;f!==d&&function(a,b,e,f){var g=[],m=[];q(d,function(c){f[c]&&(g.push(l.toAbsMid(a+c+"/"+b)),m.push(l.toAbsMid(a+b+"/"+c)))});g.length?(t++,c(g,function(){for(var c=g.length-1;0<=c;c--)e=n.mixin(n.clone(e),arguments[c]),h[m[c]]=e;h[l.toAbsMid(a+b+"/"+d)]=n.clone(e);k()})):h[l.toAbsMid(a+b+"/"+d)]=e}(g,m,e,p)}}k()});return!0}return!1})}c=c||l;f();r.forEach(g.config.extraLocale,f)},z=function(){},z=function(a){for(var b,d=a.split("/"),c=g.global[d[0]],e=1;c&&e<
d.length-1;c=c[d[e++]]);c&&((b=c[d[e]])||(b=c[d[e].replace(/-/g,"_")]),b&&(h[a]=b));return b};q.getLocalization=function(a,b,d){var c;a=x(a,b,d);w(a,l,function(a){c=a});return c};return n.mixin(q,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:w,cache:h,getL10nName:F})});
//# sourceMappingURL=i18n.js.map